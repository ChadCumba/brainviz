<!DOCTYPE HTML>
<html lang="en">
	<head> 
		<title>Threshold Example</title> 
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/global.css" type="text/css" />
		<script type="text/javascript" src="js/Point.js"></script>
		<script type="text/javascript" src="js/Rectangle.js"></script>
		<script type="text/javascript" src="js/Matrix.js"></script>
		<script type="text/javascript" src="js/BitmapData.js"></script>
		<script> 
			function init(){
				canvas = document.getElementById("canvas");
				context = canvas.getContext("2d");

				bikes = new Image();
				bikes.src = "res/bikes.png";
				bikesData = new BitmapData(300, 300);
				bikesData.draw(bikes);
				
				lenna = new Image();
				lenna.src = "res/Lenna.png";
				lennaData = new BitmapData(300, 300);
				lennaData.draw(lenna);

				threshold = 0x333333;
				rect = new Rectangle(100, 100, 200, 200);
				point = new Point(50, 50);
				setInterval(function() {
					bikesData.draw(bikes);
					bikesData.threshold(lennaData, rect, point, "<", threshold, 0x00ff00, null, true);
					
					if(threshold >= 0xffffff) threshold = 0x333333;
					else threshold += 0x00eeee;
					context.putImageData(bikesData.data, 0, 0);
				}, 10);	
			};	
		</script>
	</head> 
	<body onload="init();"> 
		<div id="container">
			<div id="example-container">
				<div class="example">
					
					
					<canvas id="canvas" width="300" height="300"></canvas><br>
					<img id="bikes" src="res/bikes.png" width="150" height="150" />
					<img id="lenna" src="res/Lenna.png" width="150" height="150" /><br>
					
					
				</div> 
				<div class="code">
					<pre>
canvas = document.getElementById("canvas");
context = canvas.getContext("2d");

bikes = new Image();
bikes.src = "res/bikes.png";
bikesData = new BitmapData(300, 300);
bikesData.draw(bikes);

lenna = new Image();
lenna.src = "res/Lenna.png";
lennaData = new BitmapData(300, 300);
lennaData.draw(lenna);

threshold = 0x333333;
rect = new Rectangle(100, 100, 200, 200);
point = new Point(50, 50);
setInterval(function() {
	bikesData.draw(bikes);
	bikesData.threshold(lennaData, rect, point, "<", threshold, 0x00ff00, null, true);

	if(threshold >= 0xffffff) threshold = 0x333333;
	else threshold += 0x00eeee;
	context.putImageData(bikesData.data, 0, 0);
}, 10);
					</pre>
				</div>
			</div>
			<div class="break"><img src="res/break.gif"></div>
			<div id="links">
				<ul>
					<li><a href="index.html">back</a></li>
				</ul>
			</div>
		</div>
	</body> 
</html>